import{_ as s,c as n,o as a,a as o}from"./app.918bc609.js";const C=JSON.parse('{"title":"SDK Configuration","description":"","frontmatter":{},"headers":[{"level":2,"title":"Default values","slug":"default-values","link":"#default-values","children":[]},{"level":2,"title":"Retry on conflict","slug":"retry-on-conflict","link":"#retry-on-conflict","children":[{"level":3,"title":"Enable","slug":"enable","link":"#enable","children":[]},{"level":3,"title":"Disable","slug":"disable","link":"#disable","children":[]}]}],"relativePath":"advanced/configuration.md","lastUpdated":1674258200000}'),l={name:"advanced/configuration.md"},e=o(`<h1 id="sdk-configuration" tabindex="-1">SDK Configuration <a class="header-anchor" href="#sdk-configuration" aria-hidden="true">#</a></h1><p>The SDK can be configured with custom options.</p><div class="language-php"><button class="copy"></button><span class="lang">php</span><pre><code><span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">config </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Configuration</span><span style="color:#89DDFF;">::</span><span style="color:#82AAFF;">create</span><span style="color:#89DDFF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">notion </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Notion</span><span style="color:#89DDFF;">::</span><span style="color:#82AAFF;">createFromConfig</span><span style="color:#89DDFF;">($</span><span style="color:#A6ACCD;">config</span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span></code></pre></div><h2 id="default-values" tabindex="-1">Default values <a class="header-anchor" href="#default-values" aria-hidden="true">#</a></h2><table><thead><tr><th>Option</th><th>Type</th><th>Default</th></tr></thead><tbody><tr><td><a href="#retry-on-conflict"><code>retryOnConflict</code></a></td><td>bool</td><td><code>true</code></td></tr><tr><td><a href="#retry-on-conflict"><code>retryOnConflictAttempts</code></a></td><td>int</td><td><code>1</code></td></tr></tbody></table><h2 id="retry-on-conflict" tabindex="-1">Retry on conflict <a class="header-anchor" href="#retry-on-conflict" aria-hidden="true">#</a></h2><p>Sometimes, the Notion API responds with the following error</p><div class="language-json"><button class="copy"></button><span class="lang">json</span><pre><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">code</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">conflict_error</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">message</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Conflict occurred while saving. Please try again.</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>The SDK provides a retry option (enabled by default) and sends the request again until a success responde or when reaches the maximum number of attempts.</p><h3 id="enable" tabindex="-1">Enable <a class="header-anchor" href="#enable" aria-hidden="true">#</a></h3><div class="language-php"><button class="copy"></button><span class="lang">php</span><pre><code><span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">token </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">_ENV</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">NOTION_TOKEN</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">retryAttempts </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">config </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Configuration</span><span style="color:#89DDFF;">::</span><span style="color:#82AAFF;">create</span><span style="color:#89DDFF;">($</span><span style="color:#A6ACCD;">token</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">enableRetryOnConflict</span><span style="color:#89DDFF;">($</span><span style="color:#A6ACCD;">retryAttempts</span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">notion </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Notion</span><span style="color:#89DDFF;">::</span><span style="color:#82AAFF;">createFromConfig</span><span style="color:#89DDFF;">($</span><span style="color:#A6ACCD;">config</span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span></code></pre></div><h3 id="disable" tabindex="-1">Disable <a class="header-anchor" href="#disable" aria-hidden="true">#</a></h3><div class="language-php"><button class="copy"></button><span class="lang">php</span><pre><code><span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">token </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">_ENV</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">NOTION_TOKEN</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">config </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Configuration</span><span style="color:#89DDFF;">::</span><span style="color:#82AAFF;">create</span><span style="color:#89DDFF;">($</span><span style="color:#A6ACCD;">token</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">disableRetryOnConflict</span><span style="color:#89DDFF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">notion </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Notion</span><span style="color:#89DDFF;">::</span><span style="color:#82AAFF;">createFromConfig</span><span style="color:#89DDFF;">($</span><span style="color:#A6ACCD;">config</span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span></code></pre></div>`,13),p=[e];function t(c,r,D,F,i,y){return a(),n("div",null,p)}const A=s(l,[["render",t]]);export{C as __pageData,A as default};
